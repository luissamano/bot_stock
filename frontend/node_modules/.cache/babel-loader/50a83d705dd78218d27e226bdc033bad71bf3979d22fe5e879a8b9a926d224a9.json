{"ast":null,"code":"import React, { useContext } from \"react\";\nimport getPriceStock from \"../Services\";\nclass ActionProvider {\n  constructor(createChatbotMessage, setStateFunc) {\n    this.handleSearchFinish = async () => {\n      const fetchedData = {\n        data: await getPriceStock(\"\")\n      };\n\n      // Actualizar el estado global con los datos obtenidos\n      this.setState(prevState => ({\n        ...prevState,\n        fetchedData\n      }));\n      const botMessage = createChatBotMessage(\"Listo\", {\n        loading: true,\n        terminateLoading: true,\n        withAvatar: true\n      });\n      setState(prev => ({\n        ...prev,\n        messages: [...prev.messages, botMessage]\n      }));\n    };\n    this.createChatbotMessage = createChatbotMessage;\n    this.setState = setStateFunc;\n  }\n}\nexport default ActionProvider;","map":{"version":3,"names":["React","useContext","getPriceStock","ActionProvider","constructor","createChatbotMessage","setStateFunc","handleSearchFinish","fetchedData","data","setState","prevState","botMessage","createChatBotMessage","loading","terminateLoading","withAvatar","prev","messages"],"sources":["/Users/luissamano/code/bot_stock/bot_front/src/ActionProvider/index.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport getPriceStock from \"../Services\";\n\nclass ActionProvider {\n  constructor(createChatbotMessage, setStateFunc) {\n    this.createChatbotMessage = createChatbotMessage;\n    this.setState = setStateFunc;\n  }\n\n  handleSearchFinish = async () => {\n    const fetchedData = {\n      data: await getPriceStock(\"\"),\n    };\n\n    // Actualizar el estado global con los datos obtenidos\n    this.setState((prevState) => ({\n      ...prevState,\n      fetchedData,\n    }));\n\n    const botMessage = createChatBotMessage(\"Listo\", {\n      loading: true,\n      terminateLoading: true,\n      withAvatar: true,\n    });\n    setState((prev) => ({\n      ...prev,\n      messages: [...prev.messages, botMessage],\n    }));\n\n  };\n}\n\nexport default ActionProvider;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,aAAa,MAAM,aAAa;AAEvC,MAAMC,cAAc,CAAC;EACnBC,WAAWA,CAACC,oBAAoB,EAAEC,YAAY,EAAE;IAAA,KAKhDC,kBAAkB,GAAG,YAAY;MAC/B,MAAMC,WAAW,GAAG;QAClBC,IAAI,EAAE,MAAMP,aAAa,CAAC,EAAE;MAC9B,CAAC;;MAED;MACA,IAAI,CAACQ,QAAQ,CAAEC,SAAS,KAAM;QAC5B,GAAGA,SAAS;QACZH;MACF,CAAC,CAAC,CAAC;MAEH,MAAMI,UAAU,GAAGC,oBAAoB,CAAC,OAAO,EAAE;QAC/CC,OAAO,EAAE,IAAI;QACbC,gBAAgB,EAAE,IAAI;QACtBC,UAAU,EAAE;MACd,CAAC,CAAC;MACFN,QAAQ,CAAEO,IAAI,KAAM;QAClB,GAAGA,IAAI;QACPC,QAAQ,EAAE,CAAC,GAAGD,IAAI,CAACC,QAAQ,EAAEN,UAAU;MACzC,CAAC,CAAC,CAAC;IAEL,CAAC;IAzBC,IAAI,CAACP,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAACK,QAAQ,GAAGJ,YAAY;EAC9B;AAwBF;AAEA,eAAeH,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}